[gd_scene load_steps=6 format=3 uid="uid://dxaogwatojo3y"]

[ext_resource type="Texture2D" uid="uid://bq52e8i4ouybl" path="res://sandsim.png" id="1_korrs"]
[ext_resource type="Script" path="res://simulation.gd" id="2_2p8op"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_m67il"]
texture = ExtResource("1_korrs")
texture_region_size = Vector2i(2, 2)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0

[sub_resource type="TileSet" id="TileSet_au01x"]
tile_size = Vector2i(2, 2)
sources/0 = SubResource("TileSetAtlasSource_m67il")

[sub_resource type="GDScript" id="GDScript_p8d25"]
script/source = "extends Label

func _process(_delta: float) -> void:
	text = \"FPS: %s\" % Engine.get_frames_per_second()
"

[node name="World" type="Node2D"]

[node name="SimulationTileSet" type="TileMap" parent="."]
texture_filter = 1
tile_set = SubResource("TileSet_au01x")
format = 2
layer_0/tile_data = PackedInt32Array(7864320, 196608, 0, 7864322, 196608, 0, 7864323, 196608, 0, 7864324, 196608, 0, 7864325, 196608, 0, 7864326, 196608, 0, 7864327, 196608, 0, 7864328, 196608, 0, 7864329, 196608, 0, 7864330, 196608, 0, 7864331, 196608, 0, 7864332, 196608, 0, 7864333, 196608, 0, 7864334, 196608, 0, 7864335, 196608, 0, 7864336, 196608, 0, 7864337, 196608, 0, 7864338, 196608, 0, 7864339, 196608, 0, 7864340, 196608, 0, 7864341, 196608, 0, 7864342, 196608, 0, 7864343, 196608, 0, 7864344, 196608, 0, 7864345, 196608, 0, 7864346, 196608, 0, 7864347, 196608, 0, 7864348, 196608, 0, 7864349, 196608, 0, 7864350, 196608, 0, 7864351, 196608, 0, 7864352, 196608, 0, 7864353, 196608, 0, 7864354, 196608, 0, 7864355, 196608, 0, 7864356, 196608, 0, 7864357, 196608, 0, 7864358, 196608, 0, 7864359, 196608, 0, 7864360, 196608, 0, 7864361, 196608, 0, 7864362, 196608, 0, 7864363, 196608, 0, 7864364, 196608, 0, 7864365, 196608, 0, 7864366, 196608, 0, 7864367, 196608, 0, 7864368, 196608, 0, 7864369, 196608, 0, 7864370, 196608, 0, 7864371, 196608, 0, 7864372, 196608, 0, 7864373, 196608, 0, 7864374, 196608, 0, 7864375, 196608, 0, 7864376, 196608, 0, 7864377, 196608, 0, 7864378, 196608, 0, 7864379, 196608, 0, 7864380, 196608, 0, 7864381, 196608, 0, 7864382, 196608, 0, 7864383, 196608, 0, 7864384, 196608, 0, 7864385, 196608, 0, 7864386, 196608, 0, 7864387, 196608, 0, 7864388, 196608, 0, 7864389, 196608, 0, 7864390, 196608, 0, 7864391, 196608, 0, 7864392, 196608, 0, 7864393, 196608, 0, 7864394, 196608, 0, 7864395, 196608, 0, 7864396, 196608, 0, 7864397, 196608, 0, 7864398, 196608, 0, 7864399, 196608, 0, 7864400, 196608, 0, 7864401, 196608, 0, 7864402, 196608, 0, 7864403, 196608, 0, 7864404, 196608, 0, 7864405, 196608, 0, 7864406, 196608, 0, 7864407, 196608, 0, 7864408, 196608, 0, 7864409, 196608, 0, 7864410, 196608, 0, 7864411, 196608, 0, 7864412, 196608, 0, 7864413, 196608, 0, 7864414, 196608, 0, 7864415, 196608, 0, 7864416, 196608, 0, 7864417, 196608, 0, 7864418, 196608, 0, 7864419, 196608, 0, 7864420, 196608, 0, 7864421, 196608, 0, 7864422, 196608, 0, 7864423, 196608, 0, 7864424, 196608, 0, 7864425, 196608, 0, 7864426, 196608, 0, 7864427, 196608, 0, 7864428, 196608, 0, 7864429, 196608, 0, 7864430, 196608, 0, 7864431, 196608, 0, 7864432, 196608, 0, 7864433, 196608, 0, 7864434, 196608, 0, 7864435, 196608, 0, 7864436, 196608, 0, 7864437, 196608, 0, 7864438, 196608, 0, 7864439, 196608, 0, 7864440, 196608, 0, 7864441, 196608, 0, 7864442, 196608, 0, 7864443, 196608, 0, 7864444, 196608, 0, 7864445, 196608, 0, 7864446, 196608, 0, 7864447, 196608, 0, 7929855, 196608, 0, 7864319, 196608, 0, 7798783, 196608, 0, 7733247, 196608, 0, 7667711, 196608, 0, 7602175, 196608, 0, 7536639, 196608, 0, 7471103, 196608, 0, 7405567, 196608, 0, 7340031, 196608, 0, 7274495, 196608, 0, 7208959, 196608, 0, 7143423, 196608, 0, 7077887, 196608, 0, 7012351, 196608, 0, 6946815, 196608, 0, 6881279, 196608, 0, 6815743, 196608, 0, 6750207, 196608, 0, 6684671, 196608, 0, 6619135, 196608, 0, 6553599, 196608, 0, 6488063, 196608, 0, 6422527, 196608, 0, 6356991, 196608, 0, 6291455, 196608, 0, 6225919, 196608, 0, 6160383, 196608, 0, 6094847, 196608, 0, 6029311, 196608, 0, 7864448, 196608, 0, 7798912, 196608, 0, 7733376, 196608, 0, 7667840, 196608, 0, 7602304, 196608, 0, 7536768, 196608, 0, 7471232, 196608, 0, 7405696, 196608, 0, 7340160, 196608, 0, 7274624, 196608, 0, 7209088, 196608, 0, 7143552, 196608, 0, 7078016, 196608, 0, 7012480, 196608, 0, 6946944, 196608, 0, 6881408, 196608, 0, 6815872, 196608, 0, 6750336, 196608, 0, 6684800, 196608, 0, 6619264, 196608, 0, 6553728, 196608, 0, 6488192, 196608, 0, 6422656, 196608, 0, 6357120, 196608, 0, 6291584, 196608, 0, 6226048, 196608, 0, 6160512, 196608, 0, 6094976, 196608, 0, 6029440, 196608, 0, 5963904, 196608, 0, 5898368, 196608, 0, 5832832, 196608, 0, 5767296, 196608, 0, 5701760, 196608, 0, 5636224, 196608, 0, 5570688, 196608, 0, 5505152, 196608, 0, 5439616, 196608, 0, 5374080, 196608, 0, 5308544, 196608, 0, 5243008, 196608, 0, 5177472, 196608, 0, 5111936, 196608, 0, 5046400, 196608, 0, 4980864, 196608, 0, 4915328, 196608, 0, 4849792, 196608, 0, 4784256, 196608, 0, 4718720, 196608, 0, 4653184, 196608, 0, 4587648, 196608, 0, 4522112, 196608, 0, 4456576, 196608, 0, 4391040, 196608, 0, 4325504, 196608, 0, 4259968, 196608, 0, 4194432, 196608, 0, 4128896, 196608, 0, 4063360, 196608, 0, 3997824, 196608, 0, 3932288, 196608, 0, 3866752, 196608, 0, 3801216, 196608, 0, 3735680, 196608, 0, 3670144, 196608, 0, 3604608, 196608, 0, 3539072, 196608, 0, 3473536, 196608, 0, 3408000, 196608, 0, 3342464, 196608, 0, 3276928, 196608, 0, 3211392, 196608, 0, 3145856, 196608, 0, 3080320, 196608, 0, 3014784, 196608, 0, 2949248, 196608, 0, 2883712, 196608, 0, 2818176, 196608, 0, 2752640, 196608, 0, 2687104, 196608, 0, 2621568, 196608, 0, 2556032, 196608, 0, 2490496, 196608, 0, 2424960, 196608, 0, 2359424, 196608, 0, 2293888, 196608, 0, 2228352, 196608, 0, 2162816, 196608, 0, 2097280, 196608, 0, 2031744, 196608, 0, 1966208, 196608, 0, 1900672, 196608, 0, 1835136, 196608, 0, 1769600, 196608, 0, 1704064, 196608, 0, 1638528, 196608, 0, 1572992, 196608, 0, 1507456, 196608, 0, 1441920, 196608, 0, 1376384, 196608, 0, 1310848, 196608, 0, 1245312, 196608, 0, 1179776, 196608, 0, 1114240, 196608, 0, 1048704, 196608, 0, 983168, 196608, 0, 917632, 196608, 0, 852096, 196608, 0, 786560, 196608, 0, 721024, 196608, 0, 655488, 196608, 0, 589952, 196608, 0, 524416, 196608, 0, 458880, 196608, 0, 393344, 196608, 0, 327808, 196608, 0, 262272, 196608, 0, 196736, 196608, 0, 131200, 196608, 0, 65664, 196608, 0, 128, 196608, 0, -65408, 196608, 0, -65409, 196608, 0, -65410, 196608, 0, -65411, 196608, 0, -65412, 196608, 0, -65413, 196608, 0, -65414, 196608, 0, -65415, 196608, 0, -65416, 196608, 0, -65417, 196608, 0, -65418, 196608, 0, -65419, 196608, 0, -65420, 196608, 0, -65421, 196608, 0, -65422, 196608, 0, -65423, 196608, 0, -65424, 196608, 0, -65425, 196608, 0, -65426, 196608, 0, -65427, 196608, 0, -65428, 196608, 0, -65429, 196608, 0, -65430, 196608, 0, -65431, 196608, 0, -65432, 196608, 0, -65433, 196608, 0, -65434, 196608, 0, -65435, 196608, 0, -65436, 196608, 0, -65437, 196608, 0, -65438, 196608, 0, -65439, 196608, 0, -65440, 196608, 0, -65441, 196608, 0, -65442, 196608, 0, -65443, 196608, 0, -65444, 196608, 0, -65445, 196608, 0, -65446, 196608, 0, -65447, 196608, 0, -65448, 196608, 0, -65449, 196608, 0, -65450, 196608, 0, -65451, 196608, 0, -65452, 196608, 0, -65453, 196608, 0, -65454, 196608, 0, -65455, 196608, 0, -65456, 196608, 0, -65457, 196608, 0, -65458, 196608, 0, -65459, 196608, 0, -65460, 196608, 0, -65461, 196608, 0, -65462, 196608, 0, -65463, 196608, 0, -65464, 196608, 0, -65465, 196608, 0, -65466, 196608, 0, -65467, 196608, 0, -65468, 196608, 0, -65469, 196608, 0, -65470, 196608, 0, -65471, 196608, 0, -65472, 196608, 0, -65473, 196608, 0, -65474, 196608, 0, -65475, 196608, 0, -65476, 196608, 0, -65477, 196608, 0, -65478, 196608, 0, -65479, 196608, 0, -65480, 196608, 0, -65481, 196608, 0, -65482, 196608, 0, -65483, 196608, 0, -65484, 196608, 0, -65485, 196608, 0, -65486, 196608, 0, -65487, 196608, 0, -65488, 196608, 0, -65489, 196608, 0, -65490, 196608, 0, -65491, 196608, 0, -65492, 196608, 0, -65493, 196608, 0, -65494, 196608, 0, -65495, 196608, 0, -65496, 196608, 0, -65497, 196608, 0, -65498, 196608, 0, -65499, 196608, 0, -1, 196608, 0, -65536, 196608, 0, -65535, 196608, 0, -65534, 196608, 0, -65533, 196608, 0, -65532, 196608, 0, -65531, 196608, 0, -65530, 196608, 0, -65529, 196608, 0, -65528, 196608, 0, -65527, 196608, 0, -65526, 196608, 0, -65525, 196608, 0, -65524, 196608, 0, -65523, 196608, 0, -65522, 196608, 0, -65521, 196608, 0, -65520, 196608, 0, -65519, 196608, 0, -65518, 196608, 0, -65517, 196608, 0, -65516, 196608, 0, -65515, 196608, 0, -65514, 196608, 0, -65513, 196608, 0, -65512, 196608, 0, -65511, 196608, 0, -65510, 196608, 0, -65509, 196608, 0, -65508, 196608, 0, -65507, 196608, 0, -65506, 196608, 0, -65505, 196608, 0, -65504, 196608, 0, -65503, 196608, 0, -65502, 196608, 0, -65501, 196608, 0, -65500, 196608, 0, 5963775, 196608, 0, 5898239, 196608, 0, 5832703, 196608, 0, 5767167, 196608, 0, 5701631, 196608, 0, 5636095, 196608, 0, 5570559, 196608, 0, 5505023, 196608, 0, 5439487, 196608, 0, 5373951, 196608, 0, 5308415, 196608, 0, 5242879, 196608, 0, 5177343, 196608, 0, 5111807, 196608, 0, 5046271, 196608, 0, 4980735, 196608, 0, 4915199, 196608, 0, 4849663, 196608, 0, 4784127, 196608, 0, 4718591, 196608, 0, 4653055, 196608, 0, 4587519, 196608, 0, 4521983, 196608, 0, 4456447, 196608, 0, 4390911, 196608, 0, 4325375, 196608, 0, 4259839, 196608, 0, 4194303, 196608, 0, 4128767, 196608, 0, 4063231, 196608, 0, 3997695, 196608, 0, 3932159, 196608, 0, 3866623, 196608, 0, 3801087, 196608, 0, 3735551, 196608, 0, 3670015, 196608, 0, 3604479, 196608, 0, 3538943, 196608, 0, 3473407, 196608, 0, 3407871, 196608, 0, 3342335, 196608, 0, 3276799, 196608, 0, 3211263, 196608, 0, 3145727, 196608, 0, 3080191, 196608, 0, 3014655, 196608, 0, 2949119, 196608, 0, 2883583, 196608, 0, 2818047, 196608, 0, 2752511, 196608, 0, 2686975, 196608, 0, 2621439, 196608, 0, 2555903, 196608, 0, 2490367, 196608, 0, 2424831, 196608, 0, 2359295, 196608, 0, 2293759, 196608, 0, 2228223, 196608, 0, 2162687, 196608, 0, 2097151, 196608, 0, 2031615, 196608, 0, 1966079, 196608, 0, 1900543, 196608, 0, 1835007, 196608, 0, 1769471, 196608, 0, 1703935, 196608, 0, 1638399, 196608, 0, 1572863, 196608, 0, 1507327, 196608, 0, 1441791, 196608, 0, 1376255, 196608, 0, 1310719, 196608, 0, 1245183, 196608, 0, 1179647, 196608, 0, 1114111, 196608, 0, 1048575, 196608, 0, 983039, 196608, 0, 917503, 196608, 0, 851967, 196608, 0, 786431, 196608, 0, 720895, 196608, 0, 655359, 196608, 0, 589823, 196608, 0, 524287, 196608, 0, 458751, 196608, 0, 393215, 196608, 0, 327679, 196608, 0, 262143, 196608, 0, 196607, 196608, 0, 131071, 196608, 0, 65535, 196608, 0, 7864321, 196608, 0)
script = ExtResource("2_2p8op")

[node name="Update" type="Timer" parent="SimulationTileSet"]
wait_time = 0.001
autostart = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -214.0
offset_bottom = -168.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CanvasLayer/Control/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 13
text = "FPS:"
horizontal_alignment = 1
vertical_alignment = 1
script = SubResource("GDScript_p8d25")

[node name="Button" type="Button" parent="CanvasLayer/Control/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_font_sizes/font_size = 8
text = "SAND"

[node name="Label2" type="Label" parent="CanvasLayer/Control/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 13
text = "v0.4"
vertical_alignment = 1

[connection signal="timeout" from="SimulationTileSet/Update" to="SimulationTileSet" method="_on_update"]
[connection signal="pressed" from="CanvasLayer/Control/VBoxContainer/Button" to="SimulationTileSet" method="_on_button_pressed"]
